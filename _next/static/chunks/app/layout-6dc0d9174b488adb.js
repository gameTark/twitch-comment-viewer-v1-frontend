(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{47833:function(e,t,n){Promise.resolve().then(n.bind(n,62520)),Promise.resolve().then(n.bind(n,97383)),Promise.resolve().then(n.bind(n,23886)),Promise.resolve().then(n.bind(n,41660)),Promise.resolve().then(n.bind(n,41789)),Promise.resolve().then(n.bind(n,14878)),Promise.resolve().then(n.t.bind(n,49152,23)),Promise.resolve().then(n.t.bind(n,34332,23))},62520:function(e,t,n){"use strict";n.d(t,{Drawer:function(){return d},z:function(){return c}});var s=n(57437),r=n(2265);let a="notification-drawer-001",l=(0,r.createContext)([]),i=()=>(0,r.useContext)(l),c=e=>(0,s.jsx)("label",{htmlFor:a,className:"cursor-pointer",children:e.children}),o=e=>{let t=i();return(0,s.jsxs)("div",{className:"drawer drawer-end",children:[(0,s.jsx)("input",{id:a,type:"checkbox",className:"drawer-toggle"}),(0,s.jsx)("div",{className:"drawer-content",children:e.children}),(0,s.jsxs)("div",{className:"drawer-side",children:[(0,s.jsx)("label",{htmlFor:a,"aria-label":"close sidebar",className:"drawer-overlay"}),(0,s.jsx)("ul",{className:"menu p-4 w-80 min-h-full bg-base-200 text-base-content",children:t.map((e,t)=>(0,s.jsx)("li",{children:e},t))})]})]})},d=e=>(0,s.jsxs)(l.Provider,{value:["test"],children:[e.children,(0,s.jsx)(o,{})]})},72037:function(e,t,n){"use strict";n.d(t,{k:function(){return r}});var s=n(57437);let r=e=>(0,s.jsxs)("div",{className:"stat",children:[null==e.icon?null:(0,s.jsx)("div",{className:"stat-figure",children:e.icon}),null==e.title?null:(0,s.jsx)("div",{className:"stat-title",children:e.title}),null==e.value?null:(0,s.jsx)("div",{className:"stat-value",children:(0,s.jsx)("span",{className:"",children:e.value})}),null==e.caption?null:(0,s.jsx)("div",{className:"stat-desc",children:e.caption})]})},89897:function(e,t,n){"use strict";n.d(t,{Q:function(){return f},F:function(){return m}});var s=n(57437),r=n(2265),a=n(44839),l=n(91279),i=n(67687),c=JSON.parse('["light","dark","cupcake","bumblebee","emerald","corporate","synthwave","retro","cyberpunk","valentine","halloween","garden","forest","aqua","lofi","pastel","fantasy","wireframe","black","luxury","dracula","cmyk","autumn","business","acid","lemonade","night","coffee","winter","dim","nord","sunset",{"mytheme":{"primary":"#9147ff","secondary":"#ae1392","accent":"#ff3f00","neutral":"#131f25","base-100":"#ffffff","info":"#00b5f1","success":"#00e848","warning":"#c35400","error":"#e2000a","--rounded-box":"0rem","--rounded-btn":"0rem","--rounded-badge":"0rem","--animation-btn":"0.1s","--animation-input":"0.1s","--btn-focus-scale":"0.95","--border-btn":"1px","--tab-border":"1px","--tab-radius":"0rem"}}]'),o=n(43425),d=n(22646);let u="theme-application-001",x=async()=>{let e=await i.db.settings.get(u);return(null==e?void 0:e.value)||"lemonade"},m=()=>{(0,l.yR)(async()=>{let e=(0,o.E_)(),t=await i.db.settings.get(u);null!=t&&(e.dataset.theme=t.value)},[])},f=()=>{let e=(0,r.useMemo)(()=>c.map(e=>"string"==typeof e?e:Object.keys(e)).flat(),[c]),[t,n]=(0,r.useState)(),m=(0,r.useCallback)(e=>{n(e),i.db.settings.put({id:u,value:e})},[]),f=(0,r.useCallback)(e=>{m(e.currentTarget.value)},[]);(0,l.yR)(()=>{x().then(e=>{n(e)})},[]),(0,r.useEffect)(()=>{null!=t&&((0,o.E_)().dataset.theme=t)},[t]);let h=(0,d.l)([],{suppressScrollX:!0}),b=e=>(0,s.jsx)("div",{className:"w-2 rounded-badge h-6 flex items-center justify-center ".concat(e.type)});return(0,s.jsxs)("div",{className:"dropdown dropdown-bottom",children:[(0,s.jsx)("button",{tabIndex:0,className:"btn btn-secondary w-48 btn-sm",children:t}),(0,s.jsx)("div",{tabIndex:0,className:" dropdown-content border z-[1] menu shadow bg-base-100 rounded-box w-64 h-96 ",children:(0,s.jsx)("div",{ref:h.ref,className:(0,a.Z)("w-full perfect-scrollbar"),children:(0,s.jsx)("ul",{className:" flex flex-col gap-2 ",children:e.map(e=>(0,s.jsx)("li",{children:(0,s.jsx)("button",{className:"btn w-full border",onClick:f,"data-theme":e,value:e,disabled:t===e,children:(0,s.jsxs)("div",{className:" flex gap-1 items-center w-full ",children:[(0,s.jsx)("div",{className:"text-left text-xs grow w-full",children:e}),(0,s.jsxs)("div",{className:"flex gap-1 ml-auto",children:[(0,s.jsx)(b,{type:"bg-primary text-primary-content"}),(0,s.jsx)(b,{type:"bg-secondary text-secondary-content"}),(0,s.jsx)(b,{type:"bg-accent text-accent-content"}),(0,s.jsx)(b,{type:"bg-neutral text-neutral-content"}),(0,s.jsx)(b,{type:"bg-base-100 text-base-content"}),(0,s.jsx)(b,{type:"bg-info"}),(0,s.jsx)(b,{type:"bg-success"}),(0,s.jsx)(b,{type:"bg-warning"}),(0,s.jsx)(b,{type:"bg-error"})]})]})})},e))})})})]})}},23886:function(e,t,n){"use strict";n.d(t,{Footer:function(){return g}});var s=n(57437),r=n(87138),a=n(16463),l=n(44839),i=n(91279),c=n(67687),o=n(82876),d=n(2265),u=n(23332),x=n(51938);n(72037);let m=()=>{let[e,t]=(0,d.useState)({date:"0000/00/00",time:"00:00",daysOfWeek:"月"});return(0,x.Y)(()=>{let e=(0,u.B)(new Date);t({date:e.format("YYYY/MM/DD"),time:e.format("HH:mm"),daysOfWeek:e.format("ddd")})},{interval:1e3,deps:[]}),(0,s.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[(0,s.jsxs)("div",{className:"flex justify-between w-full",children:[(0,s.jsx)("div",{className:"countdown text-xs",children:e.time}),(0,s.jsxs)("div",{className:"countdown text-xs",children:["(",e.daysOfWeek,")"]})]}),(0,s.jsx)("div",{className:"countdown text-xs",children:e.date})]})},f=e=>{let[t,n]=(0,d.useState)("00:00:00"),r=new Intl.NumberFormat("ja",{minimumIntegerDigits:2});return(0,d.useEffect)(()=>{if(null!=e.pause||null==e.startMilliSeconds)return;let t=e.startMilliSeconds,s=window.setInterval(()=>{let s=new Date(Date.now()-t),a=e.containsTimeZone?-s.getTimezoneOffset()/60:0;n("".concat(r.format((s.getUTCHours()+a+24)%24),":").concat(r.format(s.getUTCMinutes()),":").concat(r.format(s.getUTCSeconds())))},1e3);return()=>{window.clearInterval(s)}},[e.startMilliSeconds,e.pause]),(0,s.jsx)("span",{className:" text-xs",children:(0,s.jsx)("span",{children:t})})};var h=n(62520),b=n(11581),p=n(14878),v=n(62022);let j=()=>{let e=(0,i.yR)(()=>c.db.getMe(),[]),t=(0,p.S)(),n=(0,v.Gq)(async()=>{if((null==e?void 0:e.id)!=null)return await t.fetchById(e.id)},[e,t]),r=(0,d.useMemo)(()=>{if(null==n)return[];let e=(0,o.yd)(n.login);return[{value:"ボットアカウントの見極め方",external:!0,href:"https://twitchinsights.net/bots"},{value:"チャンネルへ",external:!0,href:e.CHANNEL},{value:"チャンネルマネージャーへ",external:!0,href:e.STREAM_MANAGER}]},[n]);return(0,s.jsxs)("div",{className:"dropdown dropdown-top",style:{lineHeight:0},children:[(0,s.jsx)("div",{className:"avatar",tabIndex:0,role:"button",children:(0,s.jsx)("div",{className:(0,l.Z)("w-12 h-12 rounded-full border border-primary",{skeleton:(null==n?void 0:n.profileImageUrl)==null}),children:(null==n?void 0:n.profileImageUrl)!=null?(0,s.jsx)("img",{src:n.profileImageUrl}):null})}),(0,s.jsxs)("ul",{className:"p-2 shadow menu dropdown-content z-[1] bg-base-100 text-base-content dasy-rounded w-64 border",tabIndex:0,children:[r.map(e=>(0,s.jsx)("li",{children:(0,s.jsxs)("a",{className:"link flex justify-between items-center",target:e.external?"_blank":void 0,href:e.href,children:[e.value," ",e.external?b.U.EXTERNAL:null]})},e.value)),(0,s.jsx)("li",{onClick:()=>{(0,o.HB)(),location.reload()},children:(0,s.jsx)("a",{children:"ログアウト"})})]})]})},w=[{icon:b.U.BROADCAST,text:"ライブ",path:"/"},{icon:b.U.GAME,text:"ゲーム",path:"/games"},{icon:b.U.DATABASE,text:"集計データ",path:"/database"},{icon:b.U.GEAR,text:"設定",path:"/setting"}],g=()=>{var e;let t=(0,i.yR)(()=>(0,o.iP)(),[]),n=(0,i.yR)(()=>c.db.getLive(),[]);if(t)return(0,s.jsx)("footer",{className:"footer items-center bg-primary flex text-primary-content sticky bottom-0 h-fit mt-auto py-3 px-4 select-none",children:(0,s.jsxs)("div",{className:"flex gap-4 items-center grow",children:[(0,s.jsx)(j,{}),(0,s.jsx)(N,{}),(0,s.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("p",{className:"text-xs",children:"配信時間"}),(0,s.jsx)(f,{startMilliSeconds:null==n?void 0:null===(e=n.startedAt)||void 0===e?void 0:e.getTime()})]}),(0,s.jsx)("div",{children:(0,s.jsx)(m,{})}),(0,s.jsx)("div",{children:(0,s.jsx)(h.z,{children:b.U.NOTIFICATION})})]})]})})},y=e=>{let t=e.active||!1,n=(0,l.Z)({"opacity-50":!t,"opacity-100":t},"transition-opacity transition-transform");return(0,s.jsxs)(r.default,{className:(0,l.Z)("flex flex-col items-center cursor-pointer h-full justify-between w-16 whitespace-nowrap",n),href:e.path,children:[(0,s.jsx)("span",{children:e.icon}),(0,s.jsx)("p",{className:"text-xs font-black ",children:e.text})]})},N=()=>{let e=(0,a.usePathname)();return(0,s.jsx)("nav",{className:"flex gap-4 grow items-end",children:w.map(t=>(0,s.jsx)(y,{...t,active:t.path===e},t.path))})}},41660:function(e,t,n){"use strict";n.d(t,{EventSubContext:function(){return d}});var s=n(57437),r=n(2265),a=n(67687),l=n(82876),i=n(62022);let c=()=>new SharedWorker(n.tu(new URL(n.p+n.u(784),n.b)));var o=n(89897);let d=e=>{(0,o.F)();let t=(0,i.f0)(),n=(0,r.useCallback)(async()=>{if(!await (0,l.iP)())return t(),()=>{};let e=await (0,l.IK)();if(null==e)return t(),()=>{};let n=e.data[0],s={id:n.id,login:n.login};await a.db.parameters.put({type:"me",value:s});let r=c();return r.port.start(),()=>{r.port.close()}},[]);return(0,r.useEffect)(()=>{if((0,l.AC)())(0,l.MH)({onSuccess:()=>{location.href="/twitch-comment-viewer-v1-frontend"}});else{let e=n();return()=>{e.then(e=>{e()})}}},[]),(0,i.Gq)(async()=>await (0,l.iP)(),[]),(0,l.AC)(),(0,s.jsx)(s.Fragment,{children:e.children})}},41789:function(e,t,n){"use strict";n.d(t,{GameContextProvider:function(){return l},j:function(){return a}});var s=n(59151);let r=(0,n(39813).a)({fetcher:s.m7,idKey:"id"}),a=r.useContext,l=r.Provider},14878:function(e,t,n){"use strict";n.d(t,{S:function(){return a},UserContextProvider:function(){return l}});var s=n(59151);let r=(0,n(39813).a)({fetcher:s.Rf,idKey:"id"}),a=r.useContext,l=r.Provider},34332:function(){}},function(e){e.O(0,[910,228,772,22,425,299,582,478,971,23,744],function(){return e(e.s=47833)}),_N_E=e.O()}]);