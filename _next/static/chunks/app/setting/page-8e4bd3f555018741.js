(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[460],{6249:function(e,t,n){Promise.resolve().then(n.bind(n,2598))},314:function(e,t,n){"use strict";n.d(t,{Q:function(){return f},F:function(){return p}});var a=n(3827),s=n(4090),r=n(3167),l=n(6639),c=n(8151),i=JSON.parse('["light","dark","cupcake","bumblebee","emerald","corporate","synthwave","retro","cyberpunk","valentine","halloween","garden","forest","aqua","lofi","pastel","fantasy","wireframe","black","luxury","dracula","cmyk","autumn","business","acid","lemonade","night","coffee","winter","dim","nord","sunset",{"mytheme":{"primary":"#ff0086","secondary":"#a0a000","accent":"#ff3f00","neutral":"#131f25","base-100":"#372a2d","info":"#00b5f1","success":"#00e848","warning":"#c35400","error":"#e2000a","--rounded-box":"1rem","--rounded-btn":"0.5rem","--rounded-badge":"1.9rem","--animation-btn":"0.25s","--animation-input":"0.2s","--btn-focus-scale":"0.95","--border-btn":"1px","--tab-border":"1px","--tab-radius":"0.5rem"}}]'),u=n(2338),o=n(5835);let d="theme-application-001",m=async()=>{let e=await c.db.settings.get(d);return(null==e?void 0:e.value)||"lemonade"},p=()=>{(0,l.yR)(async()=>{let e=(0,u.E_)(),t=await c.db.settings.get(d);null!=t&&(e.dataset.theme=t.value)},[])},f=()=>{let e=(0,s.useMemo)(()=>i.map(e=>"string"==typeof e?e:Object.keys(e)).flat(),[i]),[t,n]=(0,s.useState)(),p=(0,s.useCallback)(e=>{n(e),c.db.settings.put({id:d,value:e})},[]),f=(0,s.useCallback)(e=>{p(e.currentTarget.value)},[]);(0,l.yR)(()=>{m().then(e=>{n(e)})},[]),(0,s.useEffect)(()=>{null!=t&&((0,u.E_)().dataset.theme=t)},[t]);let b=(0,o.l)([],{suppressScrollX:!0}),g=e=>(0,a.jsx)("div",{className:"w-2 rounded-badge h-6 flex items-center justify-center ".concat(e.type)});return(0,a.jsxs)("div",{className:"dropdown dropdown-bottom",children:[(0,a.jsx)("button",{tabIndex:0,className:"btn btn-secondary w-48 btn-sm",children:t}),(0,a.jsx)("div",{tabIndex:0,className:" dropdown-content border z-[1] menu shadow bg-base-100 rounded-box w-64 h-96 ",children:(0,a.jsx)("div",{ref:b.ref,className:(0,r.Z)("w-full perfect-scrollbar"),children:(0,a.jsx)("ul",{className:" flex flex-col gap-2 ",children:e.map(e=>(0,a.jsx)("li",{children:(0,a.jsx)("button",{className:"btn w-full border",onClick:f,"data-theme":e,value:e,disabled:t===e,children:(0,a.jsxs)("div",{className:" flex gap-1 items-center w-full ",children:[(0,a.jsx)("div",{className:"text-left text-xs grow w-full",children:e}),(0,a.jsxs)("div",{className:"flex gap-1 ml-auto",children:[(0,a.jsx)(g,{type:"bg-primary text-primary-content"}),(0,a.jsx)(g,{type:"bg-secondary text-secondary-content"}),(0,a.jsx)(g,{type:"bg-accent text-accent-content"}),(0,a.jsx)(g,{type:"bg-neutral text-neutral-content"}),(0,a.jsx)(g,{type:"bg-base-100 text-base-content"}),(0,a.jsx)(g,{type:"bg-info"}),(0,a.jsx)(g,{type:"bg-success"}),(0,a.jsx)(g,{type:"bg-warning"}),(0,a.jsx)(g,{type:"bg-error"})]})]})})},e))})})})]})}},2598:function(e,t,n){"use strict";n.r(t),n.d(t,{SettingsPage:function(){return r}});var a=n(3827),s=n(314);let r=()=>(0,a.jsx)("div",{className:"px-4 py-2",children:(0,a.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,a.jsx)("p",{className:"w-48 text-base",children:"theme"}),(0,a.jsx)(s.Q,{})]})})},2338:function(e,t,n){"use strict";n.d(t,{E_:function(){return a},VX:function(){return s}});let a=()=>document.getElementsByTagName("html")[0],s=(e,t)=>{let n=null,a=async()=>{await e(),n=window.setTimeout(a,t)};return n=window.setTimeout(a,t),()=>{null!=n&&window.clearTimeout(n)}}},8151:function(e,t,n){"use strict";n.d(t,{X1:function(){return u},db:function(){return o}});var a=n(4090),s=n(8091),r=n(6639);let l={"2024/04/03.1":14,"2024/04/10":16,"2024/04/20":17,"2024/04/20.1":18,"2024/05/05":21,"2024/05/08":22,"2024/05/08.1":23,"2024/05/09":24,"2024/05/10":26};class c extends s.ZP{constructor(){super("twitch-comments"),this.version(l["2024/05/10"]).stores({users:"id,*userId,displayName,type,broadcasterType",actions:"++autoincrementId,id,*channel,messageType,*userId,*timestamp,[channel+timestamp]",followers:"++id,channelId,userId,[channelId+userId],createdAt,[channelId+createdAt]",channelHistories:"++id,channelId,type,categoryId,timestamp,[channelId+timestamp]",listenerHistories:"++id,channelId,userId,[channelId+timestamp]",games:"id,igdb_id,name",broadcastTemplates:"++id,channelId,gameId,*tags,favorite",settings:"id"})}}let i=async e=>{let t=await e.count();return async n=>({target:await e.offset(n.pageNo*n.pageSize).limit(n.pageSize).toArray(),page:n.pageNo+1,maxPage:Math.ceil(t/n.pageSize),hasPrev:n.pageNo>=1,hasNext:n.pageNo*n.pageSize<t-n.pageSize})},u=(e,t)=>{let[n,s]=(0,a.useState)(t.pageNo),l=(0,r.yR)(async()=>(s(0),i(e)),[e]);return{value:(0,r.yR)(()=>{if(null!=l)return l({pageNo:n,pageSize:t.pageSize})},[l,n,t.pageSize]),next:(0,a.useCallback)(()=>{s(e=>Math.max(e+1,0))},[]),prev:(0,a.useCallback)(()=>{s(e=>Math.max(e-1,0))},[])}},o=new c;(async()=>(console.log("migration"),!0))().then(()=>{console.log("migrated")})},5835:function(e,t,n){"use strict";n.d(t,{l:function(){return r}});var a=n(4090),s=n(5312);let r=(e,t)=>{let n=(0,a.useRef)(null),r=(0,a.useRef)(null);return(0,a.useLayoutEffect)(()=>{if(null==n.current)return;let e=new s.Z(n.current,t);r.current=e,e.update(),setTimeout(()=>{e.update()},400);let a=new ResizeObserver(()=>{e.update()});return a.observe(n.current),()=>{null!=r.current&&(r.current.destroy(),r.current=null,a.disconnect())}},[]),(0,a.useLayoutEffect)(()=>{var e;null===(e=r.current)||void 0===e||e.update()},e),{ref:n,refScroll:r}}}},function(e){e.O(0,[64,971,69,744],function(){return e(e.s=6249)}),_N_E=e.O()}]);