(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[460],{80285:function(e,t,n){Promise.resolve().then(n.bind(n,76950))},89897:function(e,t,n){"use strict";n.d(t,{Q:function(){return f},F:function(){return p}});var a=n(57437),r=n(2265),s=n(44839),l=n(91279),i=n(67687),o=JSON.parse('["light","dark","cupcake","bumblebee","emerald","corporate","synthwave","retro","cyberpunk","valentine","halloween","garden","forest","aqua","lofi","pastel","fantasy","wireframe","black","luxury","dracula","cmyk","autumn","business","acid","lemonade","night","coffee","winter","dim","nord","sunset",{"mytheme":{"primary":"#9147ff","secondary":"#ae1392","accent":"#ff3f00","neutral":"#131f25","base-100":"#ffffff","info":"#00b5f1","success":"#00e848","warning":"#c35400","error":"#e2000a","--rounded-box":"0rem","--rounded-btn":"0rem","--rounded-badge":"0rem","--animation-btn":"0.1s","--animation-input":"0.1s","--btn-focus-scale":"0.95","--border-btn":"1px","--tab-border":"1px","--tab-radius":"0rem"}}]'),u=n(43425),c=n(22646);let d="theme-application-001",m=async()=>{let e=await i.db.settings.get(d);return(null==e?void 0:e.value)||"lemonade"},p=()=>{(0,l.yR)(async()=>{let e=(0,u.E_)(),t=await i.db.settings.get(d);null!=t&&(e.dataset.theme=t.value)},[])},f=()=>{let e=(0,r.useMemo)(()=>o.map(e=>"string"==typeof e?e:Object.keys(e)).flat(),[o]),[t,n]=(0,r.useState)(),p=(0,r.useCallback)(e=>{n(e),i.db.settings.put({id:d,value:e})},[]),f=(0,r.useCallback)(e=>{p(e.currentTarget.value)},[]);(0,l.yR)(()=>{m().then(e=>{n(e)})},[]),(0,r.useEffect)(()=>{null!=t&&((0,u.E_)().dataset.theme=t)},[t]);let y=(0,c.l)([],{suppressScrollX:!0}),g=e=>(0,a.jsx)("div",{className:"w-2 rounded-badge h-6 flex items-center justify-center ".concat(e.type)});return(0,a.jsxs)("div",{className:"dropdown dropdown-bottom",children:[(0,a.jsx)("button",{tabIndex:0,className:"btn btn-secondary w-48 btn-sm",children:t}),(0,a.jsx)("div",{tabIndex:0,className:" dropdown-content border z-[1] menu shadow bg-base-100 rounded-box w-64 h-96 ",children:(0,a.jsx)("div",{ref:y.ref,className:(0,s.Z)("w-full perfect-scrollbar"),children:(0,a.jsx)("ul",{className:" flex flex-col gap-2 ",children:e.map(e=>(0,a.jsx)("li",{children:(0,a.jsx)("button",{className:"btn w-full border",onClick:f,"data-theme":e,value:e,disabled:t===e,children:(0,a.jsxs)("div",{className:" flex gap-1 items-center w-full ",children:[(0,a.jsx)("div",{className:"text-left text-xs grow w-full",children:e}),(0,a.jsxs)("div",{className:"flex gap-1 ml-auto",children:[(0,a.jsx)(g,{type:"bg-primary text-primary-content"}),(0,a.jsx)(g,{type:"bg-secondary text-secondary-content"}),(0,a.jsx)(g,{type:"bg-accent text-accent-content"}),(0,a.jsx)(g,{type:"bg-neutral text-neutral-content"}),(0,a.jsx)(g,{type:"bg-base-100 text-base-content"}),(0,a.jsx)(g,{type:"bg-info"}),(0,a.jsx)(g,{type:"bg-success"}),(0,a.jsx)(g,{type:"bg-warning"}),(0,a.jsx)(g,{type:"bg-error"})]})]})})},e))})})})]})}},76950:function(e,t,n){"use strict";n.d(t,{SettingsPage:function(){return s}});var a=n(57437),r=n(89897);let s=()=>(0,a.jsx)("div",{className:"px-4 py-2",children:(0,a.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,a.jsx)("p",{className:"w-48 text-base",children:"theme"}),(0,a.jsx)(r.Q,{})]})})},43425:function(e,t,n){"use strict";n.d(t,{E_:function(){return a},VX:function(){return r}});let a=()=>document.getElementsByTagName("html")[0],r=(e,t)=>{let n=null,a=async()=>{await e(),n=window.setTimeout(a,t)};return n=window.setTimeout(a,t),()=>{null!=n&&window.clearTimeout(n)}}},67687:function(e,t,n){"use strict";n.d(t,{X1:function(){return m},db:function(){return p}});var a=n(2265),r=n(78339),s=n(67688),l=n(17645),i=n(11653),o=n(33427),u=n(91279);class c extends o.ZP{async getMe(){let e=await this.parameters.get("me");return(null==e?void 0:e.type)!=="me"?null:e.value||null}async getLive(){let e=await this.parameters.get("live");return(null==e?void 0:e.type)!=="live"?null:e.value||null}async getChatters(){let e=await this.parameters.get("chatters");return(null==e?void 0:e.type)!=="chatters"?null:e.value||null}constructor(){super("twitch-comments"),this.version(30).stores({users:i.zE,games:l.t,actions:r.bY,followers:"++id,channelId,userId,[channelId+userId],createdAt,[channelId+createdAt]",channelHistories:"++id,channelId,type,categoryId,timestamp,[channelId+timestamp]",listenerHistories:"++id,channelId,userId,[channelId+timestamp]",broadcastTemplates:s.b,parameters:"type",spam:"login",settings:"id"})}}let d=async e=>{let t=await e.count();return async n=>({target:await e.offset(n.pageNo*n.pageSize).limit(n.pageSize).toArray(),count:t,page:n.pageNo+1,maxPage:Math.ceil(t/n.pageSize),hasPrev:n.pageNo>=1,hasNext:n.pageNo*n.pageSize<t-n.pageSize})},m=(e,t,n)=>{let[r,s]=(0,a.useState)(t.pageNo);return(0,a.useEffect)(()=>{s(0)},n),{value:(0,u.yR)(async()=>(await d(e))({pageNo:r,pageSize:t.pageSize}),[r,t.pageSize,...n]),next:(0,a.useCallback)(()=>{s(e=>Math.max(e+1,0))},[]),prev:(0,a.useCallback)(()=>{s(e=>Math.max(e-1,0))},[])}},p=new c},78339:function(e,t,n){"use strict";n.d(t,{bY:function(){return i}});var a=n(59772),r=n(87787),s=n(6307),l=n(11653);let i="++autoincrementId,id,*channel,messageType,*userId,*timestamp,[channel+timestamp]",o=a.Ry({autoincrementId:a.Rx().optional(),id:a.Z_(),channel:a.Z_(),userId:l.XM.nullable().default(null),timestamp:a.Rx().optional(),bits:a.Z_().optional(),rowdata:a.Z_().optional()}).and(r.$),u=a.Ry({messageType:a.Km(["chat"]),message:a.Z_(),fragments:s.z.array()}).and(o),c=a.Ry({messageType:a.Km(["reward","atutomatic-reward"]),rewardId:a.Z_(),userTitle:a.Z_(),userInput:a.Z_()}).and(o);u.or(c)},87787:function(e,t,n){"use strict";n.d(t,{$:function(){return r}});var a=n(59772);let r=a.Ry({createdAt:a.hT().optional().default(new Date),updateAt:a.hT().optional().default(new Date),deletedAt:a.hT().optional()})},67688:function(e,t,n){"use strict";n.d(t,{X:function(){return l},b:function(){return s}});var a=n(59772),r=n(87787);let s="++id,channelId,gameId,*tags,favorite",l=a.Ry({id:a.Rx().optional(),channelId:a.Z_().optional(),gameId:a.Z_().optional(),broadcastTitle:a.Z_().max(140,"最大140文字まで入力可能です。").default(""),language:a.Z_(),tags:a.IX(a.Z_()).max(25,"最大のタグ数は25件までです。").default([]),classificationLabels:a.Z_().array().default([]),isBrandedContent:a.O7().default(!1),favorite:a.O7().optional().default(!1)}).and(r.$)},6307:function(e,t,n){"use strict";n.d(t,{z:function(){return d}});var a=n(59772),r=n(11653);let s=a.Ry({user_id:r.XM,user_login:a.Z_(),user_name:a.Z_()}),l=a.Ry({prefix:a.Z_(),bits:a.Rx(),tier:a.Rx()}),i=a.Ry({id:a.Z_(),emote_set_id:a.Z_(),owner_id:a.Z_(),format:a.Z_().array()}),o=a.Ry({type:a.Km(["text"]),text:a.Z_(),cheermote:l.optional(),emote:a.lB(),mention:a.lB()}),u=a.Ry({type:a.Km(["mention"]),text:a.Z_(),cheermote:l.optional(),emote:a.lB(),mention:s}),c=a.Ry({type:a.Km(["emote"]),text:a.Z_(),cheermote:l.optional(),emote:i,mention:a.lB()}),d=o.or(u).or(c)},17645:function(e,t,n){"use strict";n.d(t,{t:function(){return s}});var a=n(59772),r=n(87787);let s="id,igdb_id,name";a.Ry({id:a.Z_(),name:a.Z_(),box_art_url:a.Z_().url(),igdb_id:a.Z_()}).and(r.$)},11653:function(e,t,n){"use strict";n.d(t,{EL:function(){return i},XM:function(){return l},zE:function(){return s}});var a=n(59772),r=n(87787);let s="id,*userId,displayName,type,broadcasterType",l=a.Z_(),i=a.Ry({id:l,displayName:a.Z_().optional(),login:a.Z_(),type:a.Z_().optional(),broadcasterType:a.Z_().optional(),description:a.Z_().optional(),profileImageUrl:a.Z_().optional(),offlineImageUrl:a.Z_().optional(),metaComment:a.Z_().optional(),isSpam:a.O7().optional().default(!1),rowData:a.Z_().optional()}).and(r.$)},51938:function(e,t,n){"use strict";n.d(t,{Y:function(){return r}});var a=n(2265);let r=(e,t)=>{let{interval:n,deps:r,notFirst:s}=t;(0,a.useEffect)(()=>{s||setTimeout(e,0);let t=window.setInterval(e,n);return()=>{window.clearTimeout(t)}},[n,...r])}},22646:function(e,t,n){"use strict";n.d(t,{l:function(){return l}});var a=n(2265),r=n(30416),s=n(51938);let l=(e,t)=>{let n=(0,a.useRef)(null),l=(0,a.useRef)(null);return(0,a.useLayoutEffect)(()=>{if(null==n.current)return;let e=new r.Z(n.current,t);l.current=e,e.update();let a=new ResizeObserver(()=>{e.update()});return a.observe(n.current),()=>{null!=l.current&&(l.current.destroy(),l.current=null,a.disconnect())}},[]),(0,a.useLayoutEffect)(()=>{var e;null===(e=l.current)||void 0===e||e.update()},e),(0,s.Y)(()=>{var e;null===(e=l.current)||void 0===e||e.update()},{interval:300,deps:[]}),{ref:n,refScroll:l}}}},function(e){e.O(0,[772,22,971,23,744],function(){return e(e.s=80285)}),_N_E=e.O()}]);