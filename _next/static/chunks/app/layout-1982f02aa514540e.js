(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{91462:function(e,t,n){Promise.resolve().then(n.bind(n,62520)),Promise.resolve().then(n.bind(n,97383)),Promise.resolve().then(n.bind(n,45642)),Promise.resolve().then(n.bind(n,23886)),Promise.resolve().then(n.bind(n,41660)),Promise.resolve().then(n.t.bind(n,49152,23)),Promise.resolve().then(n.t.bind(n,34332,23))},62520:function(e,t,n){"use strict";n.d(t,{Drawer:function(){return o},z:function(){return c}});var a=n(57437),l=n(2265);let r="notification-drawer-001",s=(0,l.createContext)([]),i=()=>(0,l.useContext)(s),c=e=>(0,a.jsx)("label",{htmlFor:r,className:"cursor-pointer",children:e.children}),d=e=>{let t=i();return(0,a.jsxs)("div",{className:"drawer drawer-end",children:[(0,a.jsx)("input",{id:r,type:"checkbox",className:"drawer-toggle"}),(0,a.jsx)("div",{className:"drawer-content",children:e.children}),(0,a.jsxs)("div",{className:"drawer-side",children:[(0,a.jsx)("label",{htmlFor:r,"aria-label":"close sidebar",className:"drawer-overlay"}),(0,a.jsx)("ul",{className:"menu p-4 w-80 min-h-full bg-base-200 text-base-content",children:t.map((e,t)=>(0,a.jsx)("li",{children:e},t))})]})]})},o=e=>(0,a.jsxs)(s.Provider,{value:["test"],children:[e.children,(0,a.jsx)(d,{})]})},72037:function(e,t,n){"use strict";n.d(t,{k:function(){return l}});var a=n(57437);let l=e=>(0,a.jsxs)("div",{className:"stat",children:[null==e.icon?null:(0,a.jsx)("div",{className:"stat-figure",children:e.icon}),null==e.title?null:(0,a.jsx)("div",{className:"stat-title",children:e.title}),null==e.value?null:(0,a.jsx)("div",{className:"stat-value",children:(0,a.jsx)("span",{className:"",children:e.value})}),null==e.caption?null:(0,a.jsx)("div",{className:"stat-desc",children:e.caption})]})},46247:function(e,t,n){"use strict";n.d(t,{Q:function(){return h},F:function(){return x}});var a=n(57437),l=n(2265),r=n(44839),s=n(91279),i=n(67687),c=JSON.parse('["light","dark","cupcake","bumblebee","emerald","corporate","synthwave","retro","cyberpunk","valentine","halloween","garden","forest","aqua","lofi","pastel","fantasy","wireframe","black","luxury","dracula","cmyk","autumn","business","acid","lemonade","night","coffee","winter","dim","nord","sunset",{"mytheme":{"primary":"#9147ff","secondary":"#ae1392","accent":"#ff3f00","neutral":"#131f25","base-100":"#ffffff","info":"#00b5f1","success":"#00e848","warning":"#c35400","error":"#e2000a","--rounded-box":"0rem","--rounded-btn":"0rem","--rounded-badge":"0rem","--animation-btn":"0.1s","--animation-input":"0.1s","--btn-focus-scale":"0.95","--border-btn":"1px","--tab-border":"1px","--tab-radius":"0rem"}}]');n(23332);let d=()=>document.getElementsByTagName("html")[0];var o=n(19939);let u="theme-application-001",m=async()=>{let e=await i.db.settings.get(u);return(null==e?void 0:e.value)||"lemonade"},x=()=>{(0,s.yR)(async()=>{let e=d(),t=await i.db.settings.get(u);null!=t&&(e.dataset.theme=t.value)},[])},h=()=>{let e=(0,l.useMemo)(()=>c.map(e=>"string"==typeof e?e:Object.keys(e)).flat(),[c]),[t,n]=(0,l.useState)(),x=(0,l.useCallback)(e=>{n(e),i.db.settings.put({id:u,value:e})},[]),h=(0,l.useCallback)(e=>{x(e.currentTarget.value)},[]);(0,s.yR)(()=>{m().then(e=>{n(e)})},[]),(0,l.useEffect)(()=>{null!=t&&(d().dataset.theme=t)},[t]);let f=e=>(0,a.jsx)("div",{className:"w-2 rounded-badge h-6 flex items-center justify-center ".concat(e.type)});return(0,a.jsxs)("div",{className:"dropdown dropdown-bottom",children:[(0,a.jsx)("button",{tabIndex:0,className:"btn btn-secondary w-48 btn-sm",children:t}),(0,a.jsx)("div",{tabIndex:0,className:" dropdown-content border z-[1] menu shadow bg-base-100 rounded-box w-64 h-96 ",children:(0,a.jsx)(o.X,{className:(0,r.Z)("w-full"),children:(0,a.jsx)("ul",{className:" flex flex-col gap-2 ",children:e.map(e=>(0,a.jsx)("li",{children:(0,a.jsx)("button",{className:"btn w-full border",onClick:h,"data-theme":e,value:e,disabled:t===e,children:(0,a.jsxs)("div",{className:" flex gap-1 items-center w-full ",children:[(0,a.jsx)("div",{className:"text-left text-xs grow w-full",children:e}),(0,a.jsxs)("div",{className:"flex gap-1 ml-auto",children:[(0,a.jsx)(f,{type:"bg-primary text-primary-content"}),(0,a.jsx)(f,{type:"bg-secondary text-secondary-content"}),(0,a.jsx)(f,{type:"bg-accent text-accent-content"}),(0,a.jsx)(f,{type:"bg-neutral text-neutral-content"}),(0,a.jsx)(f,{type:"bg-base-100 text-base-content"}),(0,a.jsx)(f,{type:"bg-info"}),(0,a.jsx)(f,{type:"bg-success"}),(0,a.jsx)(f,{type:"bg-warning"}),(0,a.jsx)(f,{type:"bg-error"})]})]})})},e))})})})]})}},45642:function(e,t,n){"use strict";n.d(t,{TanstackQueryProvider:function(){return d}});var a=n(57437),l=n(8699),r=n(93191),s=n(79839),i=n(53731);let c=new l.S;function d(e){return(0,a.jsxs)(r.aH,{client:c,children:[e.children,i.BB?null:(0,a.jsx)(s.t,{})]})}},23886:function(e,t,n){"use strict";n.d(t,{Footer:function(){return w}});var a=n(57437),l=n(87138),r=n(16463),s=n(44839),i=n(91279),c=n(67687),d=n(82876),o=n(2265),u=n(23332),m=n(51938);n(72037);let x=()=>{let[e,t]=(0,o.useState)({date:"0000/00/00",time:"00:00",daysOfWeek:"月"});return(0,m.Y)(()=>{let e=(0,u.B)(new Date);t({date:e.format("YYYY/MM/DD"),time:e.format("HH:mm"),daysOfWeek:e.format("ddd")})},{interval:1e3,deps:[]}),(0,a.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[(0,a.jsxs)("div",{className:"flex justify-between w-full",children:[(0,a.jsx)("div",{className:"countdown text-xs",children:e.time}),(0,a.jsxs)("div",{className:"countdown text-xs",children:["(",e.daysOfWeek,")"]})]}),(0,a.jsx)("div",{className:"countdown text-xs",children:e.date})]})},h=e=>{let[t,n]=(0,o.useState)("00:00:00"),l=new Intl.NumberFormat("ja",{minimumIntegerDigits:2});return(0,o.useEffect)(()=>{if(null!=e.pause||null==e.startMilliSeconds)return;let t=e.startMilliSeconds,a=window.setInterval(()=>{let a=new Date(Date.now()-t),r=e.containsTimeZone?-a.getTimezoneOffset()/60:0;n("".concat(l.format((a.getUTCHours()+r+24)%24),":").concat(l.format(a.getUTCMinutes()),":").concat(l.format(a.getUTCSeconds())))},1e3);return()=>{window.clearInterval(a)}},[e.startMilliSeconds,e.pause]),(0,a.jsx)("span",{className:" text-xs",children:(0,a.jsx)("span",{children:t})})};var f=n(62520),b=n(11581),p=n(35166);let v=()=>{let e=(0,i.yR)(()=>c.db.getMe(),[]),t=(0,i.yR)(async()=>await c.db.getMe(),[e]),n=(0,o.useMemo)(()=>{if(null==t)return[];let e=(0,d.yd)(t.login);return[{value:"ボットアカウントの見極め方",external:!0,href:"https://twitchinsights.net/bots"},{value:"チャンネルへ",external:!0,href:e.CHANNEL},{value:"チャンネルマネージャーへ",external:!0,href:e.STREAM_MANAGER}]},[t]);return(0,a.jsx)(p.n.Provider,{id:null==t?void 0:t.id,children:(0,a.jsxs)("div",{className:"dropdown dropdown-top",style:{lineHeight:0},children:[(0,a.jsx)("div",{className:"avatar",tabIndex:0,role:"button",children:(0,a.jsx)("div",{className:(0,s.Z)("w-12 h-12 rounded-full border border-primary"),children:(0,a.jsx)(p.n.ProfileImage,{})})}),(0,a.jsxs)("ul",{className:"p-2 shadow menu dropdown-content z-[1] bg-base-100 text-base-content dasy-rounded w-64 border",tabIndex:0,children:[n.map(e=>(0,a.jsx)("li",{children:(0,a.jsxs)("a",{className:"link flex justify-between items-center",target:e.external?"_blank":void 0,href:e.href,children:[e.value," ",e.external?b.U.EXTERNAL:null]})},e.value)),(0,a.jsx)("li",{onClick:()=>{(0,d.HB)(),location.reload()},children:(0,a.jsx)("a",{children:"ログアウト"})})]})]})})},j=[{icon:b.U.BROADCAST,text:"ライブ",path:"/"},{icon:b.U.GAME,text:"ゲーム",path:"/games"},{icon:b.U.DATABASE,text:"集計データ",path:"/database"},{icon:b.U.GEAR,text:"設定",path:"/setting"}],w=()=>{var e;let t=(0,i.yR)(()=>(0,d.iP)(),[]),n=(0,i.yR)(()=>c.db.getLive(),[]);if(t)return(0,a.jsx)("footer",{className:"footer items-center bg-primary flex text-primary-content sticky bottom-0 h-fit mt-auto py-3 px-4 select-none",children:(0,a.jsxs)("div",{className:"flex gap-4 items-center grow",children:[(0,a.jsx)(v,{}),(0,a.jsx)(y,{}),(0,a.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("p",{className:"text-xs",children:"配信時間"}),(0,a.jsx)(h,{startMilliSeconds:null==n?void 0:null===(e=n.startedAt)||void 0===e?void 0:e.getTime()})]}),(0,a.jsx)("div",{children:(0,a.jsx)(x,{})}),(0,a.jsx)("div",{children:(0,a.jsx)(f.z,{children:b.U.NOTIFICATION})})]})]})})},g=e=>{let t=e.active||!1,n=(0,s.Z)({"opacity-50":!t,"opacity-100":t},"transition-opacity transition-transform");return(0,a.jsxs)(l.default,{className:(0,s.Z)("flex flex-col items-center cursor-pointer h-full justify-between w-16 whitespace-nowrap",n),href:e.path,children:[(0,a.jsx)("span",{children:e.icon}),(0,a.jsx)("p",{className:"text-xs font-black ",children:e.text})]})},y=()=>{let e=(0,r.usePathname)();return(0,a.jsx)("nav",{className:"flex gap-4 grow items-end",children:j.map(t=>(0,a.jsx)(g,{...t,active:t.path===e},t.path))})}},35166:function(e,t,n){"use strict";n.d(t,{n:function(){return C}});var a=n(57437),l=n(2265),r=n(91279),s=n(53731),i=n(59151),c=n(82876),d=n(87722);class o extends d.K{async batchLoad(e){return await (0,i.Rf)(e)}}var u=n(62022),m=n(11581),x=n(12853);let h=(0,l.createContext)(null),f=()=>(0,l.useContext)(h),b=new o,p=(0,x.kQ)(f,["displayName","login"],{children:"........."}),v=(0,x.kQ)(f,["id"],{children:"........."}),j=(0,x.kQ)(f,["description"],{children:"........."}),w=(0,x.kQ)(f,["metaComment"],{children:"........."}),g=(0,x.RY)(f,["createdAt"],{children:"...."}),y=(0,x.RY)(f,["updateAt"],{children:"...."}),N=(0,x.uB)(f,{src:["profileImageUrl"],alt:["login"]},s.Y_.PROFILE_404,{className:"inline-block aspect-square select-none"}),k=(0,x.uB)(f,{src:["offlineImageUrl"],alt:["login"]},s.Y_.NONE,{className:"inline-block aspect-square select-none"}),C={Provider:e=>{let t=(0,r.yR)(async()=>{if(null!=e.id)return await b.load(e.id)},[e.id]);return(0,a.jsx)(h.Provider,{value:t,children:e.children})},Id:v,useUser:f,useUpdateUser:()=>{let e=f();return(0,i._o)(null==e?void 0:e.id)},Name:p,ProfileImage:N,Description:j,UpdateAt:y,CreatedAt:g,MetaComment:w,EditableMetaComment:e=>{let t=f(),n=(0,l.useRef)(null),[r,s]=(0,l.useState)(""),c=(0,i._o)(null==t?void 0:t.id);(0,l.useEffect)(()=>{null!=t&&null!=n.current&&(s(t.metaComment||""),n.current.value=t.metaComment||"")},[null==t?void 0:t.id]);let d=(0,l.useCallback)(t=>{s(t.currentTarget.value),c({metaComment:t.currentTarget.value}),e.onChange&&e.onChange(t)},[]);return(0,a.jsx)("textarea",{className:"textarea textarea-bordered leading-4",placeholder:"Bio",rows:6,...e,onChange:d,defaultValue:r,ref:n})},OfflineImage:k,FollowerCount:()=>{let e=f(),t=(0,u.Gq)(async()=>{if((null==e?void 0:e.id)!=null)return(await (0,c.ZY)({broadcaster_id:e.id})).total||0},[null==e?void 0:e.id]);return(0,a.jsx)("span",{children:null!=t?t:"..."})},TwitchLink:e=>{let t=f();if(null!=t)return(0,a.jsxs)("a",{className:"link link-info flex gap-1 py-2 items-center",...e,target:"__blank",href:"https://www.twitch.tv/".concat(t.login),children:["Twitch ",m.U.EXTERNAL]})}}},41660:function(e,t,n){"use strict";n.d(t,{TwitchRouter:function(){return o}});var a=n(57437),l=n(2265),r=n(67687),s=n(82876),i=n(62022);n(53731);let c=()=>new SharedWorker(n.tu(new URL(n.p+n.u(908),n.b)));var d=n(46247);let o=e=>{(0,d.F)();let t=(0,i.f0)(),n=(0,l.useCallback)(async()=>{if(!await (0,s.iP)())return t(),()=>{};let e=await (0,s.IK)();if(null==e)return t(),()=>{};let n=e.data[0],a={id:n.id,login:n.login};await r.db.parameters.put({type:"me",value:a});let l=c();return l.port.start(),()=>{l.port.close()}},[]);return(0,l.useEffect)(()=>{if((0,s.AC)())(0,s.MH)({onSuccess:()=>{location.href="/twitch-comment-viewer-v1-frontend"}});else{let e=n();return()=>{e.then(e=>{e()})}}},[]),(0,i.Gq)(async()=>await (0,s.iP)(),[]),(0,s.AC)(),(0,a.jsx)(a.Fragment,{children:e.children})}},34332:function(){}},function(e){e.O(0,[910,228,214,22,322,336,63,433,971,23,744],function(){return e(e.s=91462)}),_N_E=e.O()}]);