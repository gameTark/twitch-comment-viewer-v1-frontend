(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[460],{80285:function(e,t,n){Promise.resolve().then(n.bind(n,76950))},19939:function(e,t,n){"use strict";n.d(t,{X:function(){return u}});var a=n(57437),r=n(44839),s=n(2265),i=n(30416),l=n(51938);let o=(e,t)=>{let n=(0,s.useRef)(null),a=(0,s.useRef)(null);return(0,s.useLayoutEffect)(()=>{if(null==n.current)return;let e=new i.Z(n.current,t);a.current=e,e.update();let r=new ResizeObserver(()=>{e.update()});return r.observe(n.current),()=>{null!=a.current&&(a.current.destroy(),a.current=null,r.disconnect())}},[]),(0,s.useLayoutEffect)(()=>{var e;null===(e=a.current)||void 0===e||e.update()},e),(0,l.Y)(()=>{var e;null===(e=a.current)||void 0===e||e.update()},{interval:300,deps:[]}),{ref:n,refScroll:a}};function u(e){let{children:t,className:n,...s}=e,i=o([t,n],s);return(0,a.jsx)("div",{ref:i.ref,className:(0,r.Z)(n,'flex after:content-["_"] after:w-2 perfect-scrollbar-nopadding'),children:(0,a.jsx)("div",{className:"h-full w-full",children:t})})}},46247:function(e,t,n){"use strict";n.d(t,{Q:function(){return p},F:function(){return m}});var a=n(57437),r=n(2265),s=n(44839),i=n(91279),l=n(67687),o=JSON.parse('["light","dark","cupcake","bumblebee","emerald","corporate","synthwave","retro","cyberpunk","valentine","halloween","garden","forest","aqua","lofi","pastel","fantasy","wireframe","black","luxury","dracula","cmyk","autumn","business","acid","lemonade","night","coffee","winter","dim","nord","sunset",{"mytheme":{"primary":"#9147ff","secondary":"#ae1392","accent":"#ff3f00","neutral":"#131f25","base-100":"#ffffff","info":"#00b5f1","success":"#00e848","warning":"#c35400","error":"#e2000a","--rounded-box":"0rem","--rounded-btn":"0rem","--rounded-badge":"0rem","--animation-btn":"0.1s","--animation-input":"0.1s","--btn-focus-scale":"0.95","--border-btn":"1px","--tab-border":"1px","--tab-radius":"0rem"}}]');n(23332);let u=()=>document.getElementsByTagName("html")[0];var d=n(19939);let c="theme-application-001",f=async()=>{let e=await l.db.settings.get(c);return(null==e?void 0:e.value)||"lemonade"},m=()=>{(0,i.yR)(async()=>{let e=u(),t=await l.db.settings.get(c);null!=t&&(e.dataset.theme=t.value)},[])},p=()=>{let e=(0,r.useMemo)(()=>o.map(e=>"string"==typeof e?e:Object.keys(e)).flat(),[o]),[t,n]=(0,r.useState)(),m=(0,r.useCallback)(e=>{n(e),l.db.settings.put({id:c,value:e})},[]),p=(0,r.useCallback)(e=>{m(e.currentTarget.value)},[]);(0,i.yR)(()=>{f().then(e=>{n(e)})},[]),(0,r.useEffect)(()=>{null!=t&&(u().dataset.theme=t)},[t]);let y=e=>(0,a.jsx)("div",{className:"w-2 rounded-badge h-6 flex items-center justify-center ".concat(e.type)});return(0,a.jsxs)("div",{className:"dropdown dropdown-bottom",children:[(0,a.jsx)("button",{tabIndex:0,className:"btn btn-secondary w-48 btn-sm",children:t}),(0,a.jsx)("div",{tabIndex:0,className:" dropdown-content border z-[1] menu shadow bg-base-100 rounded-box w-64 h-96 ",children:(0,a.jsx)(d.X,{className:(0,s.Z)("w-full"),children:(0,a.jsx)("ul",{className:" flex flex-col gap-2 ",children:e.map(e=>(0,a.jsx)("li",{children:(0,a.jsx)("button",{className:"btn w-full border",onClick:p,"data-theme":e,value:e,disabled:t===e,children:(0,a.jsxs)("div",{className:" flex gap-1 items-center w-full ",children:[(0,a.jsx)("div",{className:"text-left text-xs grow w-full",children:e}),(0,a.jsxs)("div",{className:"flex gap-1 ml-auto",children:[(0,a.jsx)(y,{type:"bg-primary text-primary-content"}),(0,a.jsx)(y,{type:"bg-secondary text-secondary-content"}),(0,a.jsx)(y,{type:"bg-accent text-accent-content"}),(0,a.jsx)(y,{type:"bg-neutral text-neutral-content"}),(0,a.jsx)(y,{type:"bg-base-100 text-base-content"}),(0,a.jsx)(y,{type:"bg-info"}),(0,a.jsx)(y,{type:"bg-success"}),(0,a.jsx)(y,{type:"bg-warning"}),(0,a.jsx)(y,{type:"bg-error"})]})]})})},e))})})})]})}},76950:function(e,t,n){"use strict";n.d(t,{SettingsPage:function(){return s}});var a=n(57437),r=n(46247);let s=()=>(0,a.jsx)("div",{className:"px-4 py-2",children:(0,a.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,a.jsx)("p",{className:"w-48 text-base",children:"theme"}),(0,a.jsx)(r.Q,{})]})})},23332:function(e,t,n){"use strict";n.d(t,{B:function(){return c}});var a=n(62737),r=n.n(a);n(39055);var s=n(90748),i=n.n(s),l=n(86688),o=n.n(l),u=n(51470),d=n.n(u);r().extend(o()),r().extend(d()),r().extend(i()),r().locale("ja");let c=r()},39055:function(e,t,n){var a;a=function(e){"use strict";var t={name:"ja",weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(e){return e+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日(ddd) HH:mm"},meridiem:function(e){return e<12?"午前":"午後"},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(t,null,!0),t},e.exports=a(n(62737))},90748:function(e){var t;t=function(){return function(e,t){t.prototype.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)}}},e.exports=t()},86688:function(e){var t;t=function(){return function(e,t,n){t.prototype.isToday=function(){var e="YYYY-MM-DD",t=n();return this.format(e)===t.format(e)}}},e.exports=t()},51470:function(e){var t;t=function(){return function(e,t,n){e=e||{};var a=t.prototype,r={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function s(e,t,n,r){return a.fromToBase(e,t,n,r)}n.en.relativeTime=r,a.fromToBase=function(t,a,s,i,l){for(var o,u,d,c=s.$locale().relativeTime||r,f=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],m=f.length,p=0;p<m;p+=1){var y=f[p];y.d&&(o=i?n(t).diff(s,y.d,!0):s.diff(t,y.d,!0));var _=(e.rounding||Math.round)(Math.abs(o));if(d=o>0,_<=y.r||!y.r){_<=1&&p>0&&(y=f[p-1]);var h=c[y.l];l&&(_=l(""+_)),u="string"==typeof h?h.replace("%d",_):h(_,a,y.l,d);break}}if(a)return u;var g=d?c.future:c.past;return"function"==typeof g?g(u):g.replace("%s",u)},a.to=function(e,t){return s(e,t,this,!0)},a.from=function(e,t){return s(e,t,this)};var i=function(e){return e.$u?n.utc():n()};a.toNow=function(e){return this.to(i(this),e)},a.fromNow=function(e){return this.from(i(this),e)}}},e.exports=t()},67687:function(e,t,n){"use strict";n.d(t,{X1:function(){return m},db:function(){return p}});var a=n(2265),r=n(78339),s=n(67688),i=n(92911),l=n(17645),o=n(11653),u=n(33427),d=n(91279);class c extends u.ZP{async getMe(){let e=await this.parameters.get("me");if((null==e?void 0:e.type)!=null&&"me"===e.type&&null!=e.value)return e.value}async getLive(){let e=await this.parameters.get("live");return(null==e?void 0:e.type)==null||"live"!==e.type||null==e.value?{isLive:!1,viewCount:0,startedAt:null}:e.value}async getChatters(){let e=await this.parameters.get("chatters");return(null==e?void 0:e.type)==null||"chatters"!==e.type||null==e.value?{users:[],total:0}:e.value}constructor(){super("twitch-comments"),this.version(30).stores({users:o.zE,games:l.t,actions:r.bY,followers:i.I,channelHistories:"++id,channelId,type,categoryId,timestamp,[channelId+timestamp]",listenerHistories:"++id,channelId,userId,[channelId+timestamp]",broadcastTemplates:s.bJ,parameters:"type",spam:"login",settings:"id"})}}let f=async e=>{let t=await e.count();return async n=>({target:await e.offset(n.pageNo*n.pageSize).limit(n.pageSize).toArray(),count:t,page:n.pageNo+1,maxPage:Math.ceil(t/n.pageSize),hasPrev:n.pageNo>=1,hasNext:n.pageNo*n.pageSize<t-n.pageSize})},m=(e,t,n)=>{let[r,s]=(0,a.useState)(t.pageNo);return(0,a.useEffect)(()=>{s(0)},n),{value:(0,d.yR)(async()=>(await f(e))({pageNo:r,pageSize:t.pageSize}),[r,t.pageSize,...n]),next:(0,a.useCallback)(()=>{s(e=>Math.max(e+1,0))},[]),prev:(0,a.useCallback)(()=>{s(e=>Math.max(e-1,0))},[])}},p=new c},78339:function(e,t,n){"use strict";n.d(t,{bY:function(){return l}});var a=n(59772),r=n(87787),s=n(6307),i=n(11653);let l="++autoincrementId,id,*channel,messageType,*userId,*timestamp,[channel+timestamp]",o=a.Ry({autoincrementId:a.Rx().optional(),id:a.Z_(),channel:a.Z_(),userId:i.XM.nullable().default(null),timestamp:a.Rx().optional(),bits:a.Z_().optional(),rowdata:a.Z_().optional()}).and(r.$),u=a.Ry({messageType:a.Km(["chat"]),message:a.Z_(),fragments:s.z.array()}).and(o),d=a.Ry({messageType:a.Km(["reward","atutomatic-reward"]),rewardId:a.Z_(),userTitle:a.Z_(),userInput:a.Z_()}).and(o);u.or(d)},87787:function(e,t,n){"use strict";n.d(t,{$:function(){return r}});var a=n(59772);let r=a.Ry({createdAt:a.hT().optional().default(new Date),updateAt:a.hT().optional().default(new Date),deletedAt:a.hT().optional()})},67688:function(e,t,n){"use strict";n.d(t,{Bb:function(){return l},XV:function(){return i},bJ:function(){return s}});var a=n(59772),r=n(87787);let s="++id,channelId,gameId,*tags,favorite",i=a.Ry({id:a.Rx().optional(),channelId:a.Z_().optional(),gameId:a.Z_().optional(),broadcastTitle:a.Z_().max(140,"最大140文字まで入力可能です。").default(""),language:a.Z_(),tags:a.IX(a.Z_()).max(25,"最大のタグ数は25件までです。").default([]),classificationLabels:a.Z_().array().default([]),isBrandedContent:a.O7().default(!1),favorite:a.O7().optional().default(!1)}).and(r.$),l=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(e=>i.parse({channelId:e.broadcaster_id,gameId:e.game_id,broadcastTitle:e.title,language:e.broadcaster_language,tags:e.tags,classificationLabels:e.content_classification_labels,isBrandedContent:e.is_branded_content,favorite:!1}))}},92911:function(e,t,n){"use strict";n.d(t,{I:function(){return i}});var a=n(59772),r=n(87787),s=n(11653);let i="++id,channelId,userId,[channelId+userId],createdAt,[channelId+createdAt]";a.Ry({id:a.Rx().optional(),channelId:s.XM,userId:s.XM,followedAt:a.hT()}).and(r.$)},6307:function(e,t,n){"use strict";n.d(t,{z:function(){return c}});var a=n(59772),r=n(11653);let s=a.Ry({user_id:r.XM,user_login:a.Z_(),user_name:a.Z_()}),i=a.Ry({prefix:a.Z_(),bits:a.Rx(),tier:a.Rx()}),l=a.Ry({id:a.Z_(),emote_set_id:a.Z_(),owner_id:a.Z_(),format:a.Z_().array()}),o=a.Ry({type:a.Km(["text"]),text:a.Z_(),cheermote:i.optional(),emote:a.lB(),mention:a.lB()}),u=a.Ry({type:a.Km(["mention"]),text:a.Z_(),cheermote:i.optional(),emote:a.lB(),mention:s}),d=a.Ry({type:a.Km(["emote"]),text:a.Z_(),cheermote:i.optional(),emote:l,mention:a.lB()}),c=o.or(u).or(d)},17645:function(e,t,n){"use strict";n.d(t,{t:function(){return s}});var a=n(59772),r=n(87787);let s="id,igdb_id,name";a.Ry({id:a.Z_(),name:a.Z_(),box_art_url:a.Z_().url(),igdb_id:a.Z_()}).and(r.$)},11653:function(e,t,n){"use strict";n.d(t,{EL:function(){return l},XM:function(){return i},zE:function(){return s}});var a=n(59772),r=n(87787);let s="id,*userId,displayName,type,broadcasterType",i=a.Z_(),l=a.Ry({id:i,displayName:a.Z_().optional(),login:a.Z_(),type:a.Z_().optional(),broadcasterType:a.Z_().optional(),description:a.Z_().optional(),profileImageUrl:a.Z_().optional(),offlineImageUrl:a.Z_().optional(),metaComment:a.Z_().optional(),isSpam:a.O7().optional().default(!1),rowData:a.Z_().optional()}).and(r.$)},51938:function(e,t,n){"use strict";n.d(t,{Y:function(){return r}});var a=n(2265);let r=(e,t)=>{let{interval:n,deps:r,notFirst:s}=t;(0,a.useEffect)(()=>{s||setTimeout(e,0);let t=window.setInterval(e,n);return()=>{window.clearTimeout(t)}},[n,...r])}}},function(e){e.O(0,[214,22,971,23,744],function(){return e(e.s=80285)}),_N_E=e.O()}]);