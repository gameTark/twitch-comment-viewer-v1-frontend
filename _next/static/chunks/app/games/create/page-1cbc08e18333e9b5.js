(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[514],{19186:function(e,r,t){Promise.resolve().then(t.bind(t,52245))},52245:function(e,r,t){"use strict";t.d(r,{default:function(){return c}});var n=t(57437),a=t(2265),s=t(16463),i=t(67687),o=t(62022),u=t(53897);let l=()=>{let e=(0,s.useRouter)(),r=(0,a.useCallback)(()=>{e.push("/games")},[]),t=(0,s.useSearchParams)(),l=(0,o.Gq)(async()=>{let e=t.get("templateId");if(null!=e)return await i.db.broadcastTemplates.get(Number(e))||null;let r=t.get("broadcastHistoryId");if(null!=r){let e=await i.db.channelHistories.get(Number(r));return null==e?null:{channelId:e.channelId,gameId:e.categoryId,broadcastTitle:e.broadcastTitle,language:e.language,tags:[],classificationLabels:[],isBrandedContent:!1,favorite:!1,createdAt:e.createdAt,updateAt:new Date}}},[]),c=(0,a.useCallback)(r=>{let{id:t,favorite:n,...a}=r;i.db.broadcastTemplates.add({...a,favorite:!1}),e.push("/games")},[]);return null===l?(0,n.jsx)(n.Fragment,{}):(0,n.jsx)("div",{className:"fixed w-full h-full bg-base-100 z-10 flex justify-center items-center",children:(0,n.jsxs)("div",{className:" min-w-96 w-2/4 border rounded-box p-5 flex flex-col gap-10",children:[(0,n.jsx)("h1",{children:"新規作成"}),(0,n.jsx)(u.ZP,{value:l,onCancel:r,onCommit:c})]})})};function c(){return(0,n.jsx)(a.Suspense,{children:(0,n.jsx)(l,{})})}},31014:function(e,r,t){"use strict";t.d(r,{F:function(){return l}});var n=t(39343),a=function(e,r,t){if(e&&"reportValidity"in e){var a=(0,n.U2)(t,r);e.setCustomValidity(a&&a.message||""),e.reportValidity()}},s=function(e,r){var t=function(t){var n=r.fields[t];n&&n.ref&&"reportValidity"in n.ref?a(n.ref,t,e):n.refs&&n.refs.forEach(function(r){return a(r,t,e)})};for(var n in r.fields)t(n)},i=function(e,r){r.shouldUseNativeValidation&&s(e,r);var t={};for(var a in e){var i=(0,n.U2)(r.fields,a),u=Object.assign(e[a]||{},{ref:i&&i.ref});if(o(r.names||Object.keys(e),a)){var l=Object.assign({},(0,n.U2)(t,a));(0,n.t8)(l,"root",u),(0,n.t8)(t,a,l)}else(0,n.t8)(t,a,u)}return t},o=function(e,r){return e.some(function(e){return e.startsWith(r+".")})},u=function(e,r){for(var t={};e.length;){var a=e[0],s=a.code,i=a.message,o=a.path.join(".");if(!t[o]){if("unionErrors"in a){var u=a.unionErrors[0].errors[0];t[o]={message:u.message,type:u.code}}else t[o]={message:i,type:s}}if("unionErrors"in a&&a.unionErrors.forEach(function(r){return r.errors.forEach(function(r){return e.push(r)})}),r){var l=t[o].types,c=l&&l[a.code];t[o]=(0,n.KN)(o,r,t,s,c?[].concat(c,a.message):a.message)}e.shift()}return t},l=function(e,r,t){return void 0===t&&(t={}),function(n,a,o){try{return Promise.resolve(function(a,i){try{var u=Promise.resolve(e["sync"===t.mode?"parse":"parseAsync"](n,r)).then(function(e){return o.shouldUseNativeValidation&&s({},o),{errors:{},values:t.raw?n:e}})}catch(e){return i(e)}return u&&u.then?u.then(void 0,i):u}(0,function(e){if(null!=e.errors)return{values:{},errors:i(u(e.errors,!o.shouldUseNativeValidation&&"all"===o.criteriaMode),o)};throw e}))}catch(e){return Promise.reject(e)}}}}},function(e){e.O(0,[214,803,701,279,945,30,285,564,971,23,744],function(){return e(e.s=19186)}),_N_E=e.O()}]);